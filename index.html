<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mgall - Email Interface</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
        <!-- AI Badge -->
        <div class="ai-badge">Dang Ha</div>

        <!-- Visitor Counter -->
        <div id="visitor-counter" style="position: fixed; top: 10px; right: 10px; background: rgba(0, 0, 0, 0.5); color: white; padding: 10px; border-radius: 8px; font-size: 14px;">
            Views: <span id="view-count">0</span>
        </div>

        <!-- Main Container -->
        <div class="main-container">
            <div class="glow-wrapper">
                <div class="app-window">
                    <!-- Sidebar -->
                    <div class="sidebar">
                        <div class="logo">
                            <a href="index.html">
                                <div style="display: flex; align-items: center;">
                                    <span class="logo-m">G</span>
                                    <span class="logo-text">mail</span>
                                </div>
                            </a>
                        </div>

                        <!-- <div class="sidebar-icon">
                            <i class="bi bi-cloud-fill icon-blue"></i>
                        </div> -->

                        <div class="sidebar-icon">
                            <a href="index.html">
                                <i class="bi bi-envelope-fill icon-red"></i>
                            </a>
                        </div>

                        <div class="sidebar-icon">
                            <a href="Contact.html">
                                <i class="bi bi-card-text icon-gray"></i>
                            </a>
                        </div>
                        <!-- 
                        <div class="sidebar-icon">
                            <i class="bi bi-envelope-check-fill icon-green"></i>
                        </div> -->

                        <div class="sidebar-icon">
                            <a href="Group.html">
                                <i class="bi bi-people-fill icon-gray"></i>
                            </a>
                        </div>

                    </div>

                    <!-- Main Content -->
                    <div class="main-content">
                        <!-- Header -->
                        <div class="header">
                            <div class="header-left">
                                <div class="header-icon">
                                    <i class="bi bi-list"></i>
                                </div>
                                <input id="searchBar" type="text" class="search-bar" placeholder="Tìm kiếm...">
                            </div>
                            <div class="header-right">
                                <div class="header-icon">
                                    <i class="bi bi-house-fill"></i>
                                </div>
                                <div class="header-icon">
                                    <i class="bi bi-bell-fill"></i>
                                </div>
                                <div class="header-icon">
                                    <i class="bi bi-chevron-down"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Content Area -->
                        <div class="content-area">
                            <div class="products-grid">
                                <!-- Product Card 1 -->
                                <div class="product-card" data-product-id="1" id="product-1">
                                    <div class="product-image">
                                        <img src="images/product11.jpg" alt="">
                                    </div>
                                    <div class="product-info">
                                        <div>
                                            <div class="product-name">Gmail new reg tay dính phone</div>
                                            <span class="product-stock unavailable">Hết hàng</span>
                                            <!-- <span class="product-stock available">Còn hàng</span> -->
                                        </div>
                                        <div class="product-footer">
                                            <span class="product-price">8.000đ</span>
                                         
                                        </div>
                                          <div class="product-actions">
                                                <button class="product-btn">Chi tiết sản phẩm</button>

                                            </div>
                                    </div>
                                </div>

                                <!-- Product Card 2 -->
                                <div class="product-card" data-product-id="2" id="product-2">
                                    <div class="product-image">
                                        <img src="images/product12.jpg" alt="">
                                    </div>
                                    <div class="product-info">
                                        <div>
                                            <div class="product-name">Gmail new reg tay không dính phone</div>
                                            <span class="product-stock unavailable">Hết hàng</span>
                                            <!-- <span class="product-stock available">Còn hàng</span> -->
                                        </div>
                                        <div class="product-footer">
                                            <span class="product-price">9.000đ</span>
                                           

                                        </div>
                                         <div class="product-actions">
                                                <button class="product-btn">Chi tiết sản phẩm</button>

                                            </div>
                                    </div>
                                </div>

                                <!-- Product Card 3 -->
                                <div class="product-card" data-product-id="3" id="product-3">
                                    <div class="product-image">
                                        <img src="images/product6.jpeg" alt="">
                                    </div>
                                    <div class="product-info">
                                        <div>
                                            <div class="product-name">Gmail reg tay không dính phone ngâm trên 1 tuần</div>
                                            <span class="product-stock unavailable">Hết hàng</span>
                                            <!-- <span class="product-stock available">Còn hàng</span> -->
                                        </div>
                                        <div class="product-footer">
                                            <span class="product-price">10.000đ</span>
                                           
                                        </div>
                                        <div class="product-actions">
                                                <button class="product-btn">Chi tiết sản phẩm</button>

                                            </div>
                                    </div>
                                </div>
                                <div class="product-card" data-product-id="4">
                                    <div class="product-image">
                                        <img src="images/product5.jpg" alt="">
                                    </div>
                                    <div class="product-info">
                                        <div>
                                            <div class="product-name">Gmail hàng new chưa qua dịch vụ-reg tay-ip việt- live
trâu bò</div>
                                            <!-- <span class="product-stock unavailable">Hết hàng</span> -->
                                            <!-- <span class="product-stock available">Còn hàng</span> -->
                                        </div>
                                        <div class="product-footer">
                                            <span class="product-price">10.000đ</span>
                                            
                                        </div>
                                        <div class="product-actions">
                                                <button class="product-btn">Chi tiết sản phẩm</button>

                                            </div>
                                    </div>
                                </div>

                                <!-- Product Card 4 -->
                                <div class="product-card" data-product-id="5">
                                    <div class="product-image">
                                        <img src="images/products4.jpg.png" alt="">
                                    </div>
                                    <div class="product-info">
                                        <div>
                                            <div class="product-name">Gmail cổ 2020-2024 kèm mã 2FA</div>
                                            <span class="product-stock unavailable">Hết hàng</span>
                                            <!-- <span class="product-stock available">Còn hàng</span> -->
                                        </div>
                                        <div class="product-footer">
                                            <span class="product-price">11.000đ</span>
                                           
                                        </div>
                                       <div class="product-actions">
                                                <button class="product-btn">Chi tiết sản phẩm</button>

                                            </div>
                                    </div>
                                </div>

                                <!-- Product Card 5 -->
                                <div class="product-card" data-product-id="6">
                                    <div class="product-image">
                                        <i class="bi bi-tablet"></i>
                                    </div>
                                    <div class="product-info">
                                        <div>
                                            <div class="product-name"></div>
                                            <span class="product-stock available"></span>
                                            <!-- <span class="product-stock available">Còn hàng</span> -->
                                        </div>
                                        <div class="product-footer">
                                            <span class="product-price"></span>
                                            <div class="product-actions">
                                               
                                               <div class="product-actions">
                                                <button class="product-btn">Chi tiết sản phẩm</button>

                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Product Card 6 -->
                                <!-- <div class="product-card">
                                    <div class="product-image">
                                        <i class="bi bi-camera"></i>
                                    </div>
                                    <div class="product-info">
                                        <div>
                                            <div class="product-name">Digital Camera</div>
                                            <div class="product-description">Professional photography equipment</div>
                                        </div>
                                        <div class="product-footer">
                                            <span class="product-price">$1,199</span>
                                            <button class="product-btn">Thông tin</button>
                                        </div>
                                    </div>
                                </div> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Watermark -->


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        <!-- Visitor Counter Script -->
        <script type="module">
    // Import thư viện Supabase
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

    // Khởi tạo Supabase client
    const SUPABASE_URL = 'https://itrgrimdvbddzaqwbzrj.supabase.co'; // Thay bằng URL Supabase của bạn
    const SUPABASE_ANON_KEY = 'sb_publishable_MXd6ioVUiivHLXan4WLeBQ_Eg5Wb-1B'; // Thay bằng Anon Key của bạn
    const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    async function updatePageViews() {
        try {
            // Lấy số lượt xem hiện tại từ bảng `page_views`
            let { data, error } = await supabase
                .from('page_views')
                .select('views')
                .eq('id', 1)
                .single();

            if (error && error.code === 'PGRST116') {
                // Nếu không có bản ghi, tạo mới với giá trị ban đầu là 1
                const { error: insertError } = await supabase
                    .from('page_views')
                    .insert([{ id: 1, views: 1 }]);

                if (insertError) throw insertError;

                document.getElementById('view-count').textContent = 1;
                return;
            } else if (error) {
                throw error;
            }

            // Tăng số lượt xem lên 1
            const newViews = data.views + 1;

            // Cập nhật số lượt xem trong Supabase
            const { error: updateError } = await supabase
                .from('page_views')
                .update({ views: newViews })
                .eq('id', 1);

            if (updateError) throw updateError;

            // Hiển thị số lượt xem trên giao diện
            document.getElementById('view-count').textContent = newViews;
        } catch (err) {
            console.error('Lỗi khi cập nhật số lượt xem:', err.message);
        }
    }

    // Gọi hàm khi trang được tải
    document.addEventListener('DOMContentLoaded', updatePageViews);
</script>
       

        <!-- Product Info Modal -->
        <div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="productModalLabel">Product Name</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p id="productModalDescription">Product description goes here.</p>
                        <strong style="font-size: 20px;">Lưu ý:</strong> <p id="productModalNote"></p>
                        <strong style="font-size: 20px;">Cách log:</strong> <p id="productModalHowto"></p>
                        <p><strong id="productModalPrice" style="color: red; font-size: 25px;">$0</strong></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <a href="https://t.me/dangha777">
                        <button type="button" class="btn btn-primary">Liên hệ để mua hàng</button>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                // Product data
                const products = {
                    1: {
                        name: 'Gmail new reg tay dính phone',
                        description: 'Dính phone là mail đăng ký bằng số điện thoại ảo, mail new tạo từ 1-5 ngày.',
                        note: 'Acc sau khi log ngâm 5 tiếng rồi mới đổi mật khẩu, trường hợp đổi mật khẩu bị dính xác minh sẽ ko bảo hành ❌❌LƯU Ý : ACC CHỈ BẢO HÀNH TRƯỚC KHI LOG THÀNH CÔNG, LOG THÀNH CÔNG HẾT BẢO HÀNH',
                        howto: 'Log thử 1 cái xog để 10p xem có bị dính xác minh không, nếu không thì mới đăng nhập tiếp.',
                        price: '8.000đ',
                    },
                    2: {
                        name: 'Gmail new reg tay không dính phone',
                        description: 'Gmail reg tay không dùng tool và không cần số điện thoại để xác minh, mới tạo 1-5 ngày',
                        note: 'Acc sau khi log ngâm 5 tiếng rồi mới đổi mật khẩu, trường hợp đổi mật khẩu bị dính xác minh sẽ ko bảo hành ❌❌LƯU Ý : ACC CHỈ BẢO HÀNH TRƯỚC KHI LOG THÀNH CÔNG, LOG THÀNH CÔNG HẾT BẢO HÀNH',
                        howto: 'Log thử 1 cái xog để 10p xem có bị dính xác minh không, nếu không thì mới đăng nhập tiếp.',
                        price: '9.000đ',
                    },
                    3: {
                        name: 'Gmail reg tay không dính phone ngâm trên 1 tuần',
                        description: 'Gmail reg tay không dùng tool và không cần số điện thoại để xác minh, tạo trên 7 ngày',
                        note: 'Acc sau khi log ngâm 5 tiếng rồi mới đổi mật khẩu, trường hợp đổi mật khẩu bị dính xác minh sẽ ko bảo hành ❌❌LƯU Ý : ACC CHỈ BẢO HÀNH TRƯỚC KHI LOG THÀNH CÔNG, LOG THÀNH CÔNG HẾT BẢO HÀNH',
                        howto: 'Log thử 1 cái xog để 10p xem có bị dính xác minh không, nếu không thì mới đăng nhập tiếp.',
                        price: '10.000đ',
                    },
                    4: {
                        name: 'GMAIL HÀNG NEW CHƯA QUA DỊCH VỤ-REG TAY-IP VIỆT- LIVE TRÂU BÒ',
                        description: 'GMAIL HÀNG NEW CHƯA QUA DỊCH VỤ-REG TAY-IP VIỆT- LIVE TRÂU BÒ',
                        note: 'Acc sau khi log ngâm 5 tiếng rồi mới đổi mật khẩu, trường hợp đổi mật khẩu bị dính xác minh sẽ ko bảo hành ❌❌LƯU Ý : ACC CHỈ BẢO HÀNH TRƯỚC KHI LOG THÀNH CÔNG, LOG THÀNH CÔNG HẾT BẢO HÀNH',
                        howto: 'Log thử 1 cái xog để 10p xem có bị dính xác minh không, nếu không thì mới đăng nhập tiếp.',
                        price: '10.000đ',
                    },
                    5: {
                        name: 'Gmail cổ 2020-2024 kèm mã 2FA',
                        description: 'Gmail cổ từ năm 2020 đến 2024, chưa sử dụng và kèm theo mã xác minh 2FA.',
                        price: '11.000đ',
                    }
                };

                // Function to update the popup with product information
                function updatePopup(productId) {
                    const product = products[productId];
                    if (product) {
                        document.getElementById('productModalLabel').textContent = product.name;
                        document.getElementById('productModalDescription').textContent = product.description;
                          document.getElementById('productModalNote').textContent = product.note;
                             document.getElementById('productModalHowto').textContent = product.howto;
                        document.getElementById('productModalPrice').textContent = product.price;
                    }
                }

                // Attach click event listeners to product cards
                const productCards = document.querySelectorAll('.product-card');
                productCards.forEach((card) => {
                    const productId = card.getAttribute('data-product-id');
                    if (productId) {
                        card.addEventListener('click', () => {
                            updatePopup(productId);
                            const modal = new bootstrap.Modal(document.getElementById('productModal'));
                            modal.show();
                        });
                    }
                });
            });
        </script>

        <script>
            (function () {
                const search = document.getElementById('searchBar');
                if (!search) return;

                const cards = Array.from(document.querySelectorAll('.product-card'));
                const normalize = (s) => s
                    .normalize && s.normalize('NFD').replace(/[00-\u036f]/g, '')
                    ? s.normalize('NFD').replace(/[\u0300-\u036f]/g, '').toLowerCase()
                    : String(s).toLowerCase();

                const debounce = (fn, delay) => {
                    let t;
                    return (...args) => {
                        clearTimeout(t);
                        t = setTimeout(() => fn(...args), delay);
                    };
                };

                const filterCards = () => {
                    const raw = search.value.trim();
                    const q = normalize(raw);
                    if (!q) {
                        cards.forEach(c => c.style.display = 'flex');
                        return;
                    }

                    const tokens = q.split(/\s+/).filter(Boolean);
                    cards.forEach(card => {
                        const nameEl = card.querySelector('.product-name');
                        const name = nameEl ? normalize(nameEl.textContent || '') : '';
                        const matched = tokens.every(tok => name.indexOf(tok) !== -1);
                        card.style.display = matched ? 'flex' : 'none';
                    });
                };

                const debounced = debounce(filterCards, 150);
                search.addEventListener('input', debounced);
                search.addEventListener('search', filterCards);
            })();
        </script>

        <script>
            // Product info modal handler
            (function () {
                const modalEl = document.getElementById('productModal');
                if (!modalEl) return;
                const modal = new bootstrap.Modal(modalEl);

                document.addEventListener('click', function (e) {
                    const btn = e.target.closest && e.target.closest('.product-btn');
                    if (!btn) return;

                    const card = btn.closest('.product-card');
                    if (!card) return;

                    const name = card.querySelector('.product-name')?.textContent?.trim() || '';
                    const desc = card.querySelector('.product-description')?.textContent?.trim() || '';
                    const price = card.querySelector('.product-price')?.textContent?.trim() || '';
                    const stockEl = card.querySelector('.product-stock');
                    const stock = stockEl ? stockEl.textContent.trim() : 'Không rõ';

                    document.getElementById('modalProductName').textContent = name;
                    document.getElementById('modalProductDescription').textContent = desc;
                    document.getElementById('modalProductPrice').textContent = price;
                    const modalStock = document.getElementById('modalProductStock');
                    modalStock.textContent = stock;
                    // copy badge style to modal stock indicator
                    modalStock.className = '';
                    if (stockEl) {
                        if (stockEl.classList.contains('available')) modalStock.classList.add('text-success');
                        if (stockEl.classList.contains('unavailable')) modalStock.classList.add('text-danger');
                    }

                    modal.show();
                });
            })();
        </script>

        <script>
            // Sidebar active icon: highlight the current / clicked link and persist across pages
            (function () {
                const anchors = Array.from(document.querySelectorAll('.sidebar-icon a'));
                const saved = (() => { try { return localStorage.getItem('activeSidebar'); } catch (e) { return null; } })();
                const path = location.pathname || location.href;

                anchors.forEach a => {
                    const parent = a.closest('.sidebar-icon');
                    if (!parent) return;
                    const href = a.getAttribute('href');
                    if (!href) return;

                    // mark active if href matches current location or matches saved value
                    if (saved && saved === href) parent.classList.add('active');
                    else if (path.endsWith(href) || path === href || (href === 'index.html' && (path.endsWith('/') || path.endsWith('index.html')))) parent.classList.add('active');

                    a.addEventListener('click', function () {
                        try { localStorage.setItem('activeSidebar', href); } catch (e) { }
                    });
                });
            })();
        </script>

        <script>
    document.addEventListener('DOMContentLoaded', function () {
        const filterSelect = document.createElement('select');
        filterSelect.style = 'position: fixed; top: 50px; right: 10px; padding: 5px; border-radius: 5px;';

        const productCards = document.querySelectorAll('.product-card');
        const prices = new Set();

        // Collect unique prices from product cards
        productCards.forEach(card => {
            const priceElement = card.querySelector('.product-price');
            if (priceElement) {
                const price = priceElement.textContent.replace(/[^0-9]/g, '');
                if (price) {
                    prices.add(price);
                }
            }
        });

        // Sort prices and create options
        Array.from(prices).sort((a, b) => a - b).forEach(price => {
            const option = document.createElement('option');
            option.value = price;
            option.textContent = `${price}đ`;
            filterSelect.appendChild(option);
        });

        // Filter products based on selected price
        filterSelect.addEventListener('change', function () {
            const selectedPrice = filterSelect.value;

            productCards.forEach(card => {
                const priceElement = card.querySelector('.product-price');
                if (priceElement) {
                    const price = priceElement.textContent.replace(/[^0-9]/g, '');

                    if (price === selectedPrice) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                }
            });
        });

        document.body.appendChild(filterSelect);
    });
</script>
    </body>

</html>